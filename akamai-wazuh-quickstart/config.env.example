# ============================================================================
# Akamai Cloud Wazuh Quick-Start Configuration
# ============================================================================
# Copy this file to config.env and customize with your values
# Usage: cp config.env.example config.env && nano config.env

# ----------------------------------------------------------------------------
# REQUIRED: Domain Configuration
# ----------------------------------------------------------------------------
# Your root domain - DNS must be hosted on Linode/Akamai DNS
# The deployment will create these subdomains:
#   - wazuh.${DOMAIN}              (Dashboard HTTPS access)
#   - wazuh-manager.${DOMAIN}      (Agent events - port 1514)
#   - wazuh-registration.${DOMAIN} (Agent registration - port 1515)
DOMAIN="example.com"

# ----------------------------------------------------------------------------
# REQUIRED: Linode API Access
# ----------------------------------------------------------------------------
# Create token at: https://cloud.linode.com/profile/tokens
# Required permissions: Domains (Read/Write)
LINODE_API_TOKEN="your-linode-api-token-here"

# ----------------------------------------------------------------------------
# REQUIRED: Let's Encrypt Configuration
# ----------------------------------------------------------------------------
# Email for Let's Encrypt certificate notifications
LETSENCRYPT_EMAIL="admin@example.com"

# ----------------------------------------------------------------------------
# OPTIONAL: Cluster Information
# ----------------------------------------------------------------------------
# Reference name for your cluster (informational only)
CLUSTER_NAME="wazuh-production"

# Kubernetes namespace for Wazuh deployment
WAZUH_NAMESPACE="wazuh"

# ----------------------------------------------------------------------------
# OPTIONAL: Resource Configuration
# ----------------------------------------------------------------------------
# Wazuh Indexer resources (OpenSearch)
INDEXER_MEMORY_REQUEST="2Gi"
INDEXER_MEMORY_LIMIT="4Gi"
INDEXER_CPU_REQUEST="1000m"
INDEXER_CPU_LIMIT="2000m"
INDEXER_STORAGE="100Gi"

# Wazuh Manager Master resources
MANAGER_MASTER_MEMORY_REQUEST="1Gi"
MANAGER_MASTER_MEMORY_LIMIT="2Gi"
MANAGER_MASTER_CPU_REQUEST="500m"
MANAGER_MASTER_CPU_LIMIT="1000m"

# Wazuh Manager Workers resources
MANAGER_WORKER_MEMORY_REQUEST="1Gi"
MANAGER_WORKER_MEMORY_LIMIT="2Gi"
MANAGER_WORKER_CPU_REQUEST="500m"
MANAGER_WORKER_CPU_LIMIT="1000m"

# Wazuh Dashboard resources
DASHBOARD_MEMORY_REQUEST="512Mi"
DASHBOARD_MEMORY_LIMIT="1Gi"
DASHBOARD_CPU_REQUEST="250m"
DASHBOARD_CPU_LIMIT="500m"

# ----------------------------------------------------------------------------
# OPTIONAL: Scaling Configuration
# ----------------------------------------------------------------------------
# Number of Wazuh worker replicas (handles agent connections)
WORKER_REPLICAS="2"

# Number of Indexer replicas (data redundancy)
INDEXER_REPLICAS="3"

# ----------------------------------------------------------------------------
# OPTIONAL: Storage Configuration
# ----------------------------------------------------------------------------
# Storage class for persistent volumes (Linode Block Storage)
STORAGE_CLASS="linode-block-storage-retain"

# Indexer storage size per replica
INDEXER_STORAGE_SIZE="100Gi"

# ----------------------------------------------------------------------------
# OPTIONAL: Deployment Behavior
# ----------------------------------------------------------------------------
# Skip prerequisite installations (if already installed)
SKIP_PREREQUISITES="false"

# Enable dry-run mode (validate without deploying)
DRY_RUN="false"

# Enable verbose logging
VERBOSE="false"

# Wait timeout for deployment readiness (seconds)
DEPLOYMENT_TIMEOUT="600"

# ----------------------------------------------------------------------------
# OPTIONAL: Wazuh Version
# ----------------------------------------------------------------------------
# Wazuh version to deploy
WAZUH_VERSION="v4.9.2"

# ----------------------------------------------------------------------------
# NOTES
# ----------------------------------------------------------------------------
# 1. Minimum LKE cluster requirements:
#    - 3 nodes minimum (for high availability)
#    - 4GB RAM per node minimum
#    - 2 vCPUs per node minimum
#
# 2. Cost estimate (Akamai Cloud Computing):
#    - 3x Linode 4GB nodes: ~$36/month
#    - 300GB Block Storage: ~$30/month
#    - 2x LoadBalancers: ~$20/month
#    Total: ~$86/month
#
# 3. Security:
#    - Random passwords generated on first deployment
#    - TLS certificates auto-provisioned via Let's Encrypt
#    - All credentials saved to .credentials (chmod 600)
#
# 4. DNS Requirements:
#    - Domain must be hosted on Linode/Akamai DNS
#    - ExternalDNS will automatically create A records
#    - Allow 2-5 minutes for DNS propagation
